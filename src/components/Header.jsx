import React from "react";
import SearchIcon from "@mui/icons-material/Search";
import { Button, Input } from "@mui/material";
import { ThemeProvider } from "@mui/material";
import { createTheme } from "@mui/material/styles";
import IconButton from "@mui/material/IconButton";

function Header({
  searchTerm,
  setSearchTerm,
  searchMovies,
  darkMode,
  toggleDarkMode,
  setSearchStatus,
}) {
  //to search using enter key

  const handleKeyDown = (event) => {
    if (event.key === "Enter") {
      if (event.target.value === "") {
        setSearchStatus(false);
      } else {
        searchMovies(searchTerm);
        setSearchStatus(true);
      }
    }
  };

  return (
    <header
      darkMode={darkMode}
      toggleDarkMode={toggleDarkMode}
      className={`${
        darkMode ? "dark" : ""
      } w-[80%] fixed ml-[20%] left-0 top-0 z-50`}
    >
      <div className="dark:bg-[#272727] w-[79vw] h-[80px] flex items-center sticky left-0 top-0 bg-blue-500">
        <div className="flex justify-start w-[5%]">
          <IconButton sx={{ ml: 2 }} onClick={toggleDarkMode} color="inherit">
            {darkMode ? (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                version="1.0"
                viewBox="0 0 840 880"
              >
                <path
                  fill="white"
                  d="M389.5 41.1c-82.3 6.9-156.2 36.2-220.7 87.7-17.2 13.7-46.5 43-60.2 60.2-13 16.2-28.8 39.7-38.7 57.5C12.1 350.2 4.1 477.5 48.5 588c44.3 110.3 134 194.8 246.5 232 105 34.7 222.3 23.7 318.5-29.9 32.6-18.2 61.8-40.3 89.1-67.5 39.8-39.9 68.5-83.4 89.2-135.1C845 453.9 822.1 302.6 731.4 189c-14-17.4-43.2-46.7-60.4-60.4-61.1-48.7-130.1-77.4-207-86.2-15.5-1.8-59.8-2.6-74.5-1.3zm120 156.3c17.8 2.6 54.5 12.4 54.5 14.5 0 .3-3 1.5-6.7 2.5-23.5 6.7-49 19.8-70.1 36-10.5 8-29.9 27.3-37.4 37.1-15.6 20.5-27.4 43.8-34.3 68-5.3 18.5-6.9 30.3-6.9 52.5 0 20.6.6 26.5 4.5 44 17.4 77 81.4 138.5 161.9 155.5 16.3 3.4 27.9 4.6 45.5 4.6h15l-4 3.5c-8.5 7.3-28.7 19.9-44.5 27.8-28.7 14.2-58 22.6-89.8 25.6-103.2 9.8-202.9-43.2-248.1-132-17.7-34.5-25.4-66.9-25.4-105.5.1-41.1 10.2-78.7 30.7-113.8 39.3-67.3 106.9-110.9 187.9-121.2 14.7-1.8 51.9-1.3 67.2.9z"
                />
              </svg>
            ) : (
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="40"
                height="40"
                version="1.0"
                viewBox="0 0 200 200"
                className="bg-white rounded-full"
              >
                <path
                  fill="white"
                  d="M83.6 11.5c-35.1 7.3-61.4 31.8-70.8 66-3.1 11.5-3.1 33.5 0 45 8.7 31.8 33 56 64.7 64.6 11.5 3.2 33.5 3.2 45 0 31.7-8.6 56-32.9 64.6-64.6 1.8-6.5 2.2-10.7 2.2-22.5s-.4-16-2.2-22.5c-8.6-31.7-33.2-56.3-64.6-64.6-10.4-2.7-29.2-3.4-38.9-1.4zm35.9 13.9c3.3.9 10.3 3.7 15.5 6.3 7.9 4 11 6.2 18.5 13.8 12.6 12.6 18.6 23.5 21.9 39.7 10.8 52.8-37.4 101-90.2 90.2-16.2-3.3-27.1-9.3-39.7-21.9-7.6-7.5-9.8-10.6-13.8-18.5-6.6-13.3-8.2-19.9-8.2-35 0-15.1 1.6-21.7 8.2-35 8.1-16.3 24-30.5 41.6-37.2 12.8-4.9 32.7-5.9 46.2-2.4z"
                />
                <path
                  fill="#3B82F6"
                  d="M96.6 51.6c-1.9 1.9-2.2 13.4-.4 15.2.7.7 2.4 1.2 3.8 1.2 4 0 5-1.8 5-8.6 0-6.6-1.5-9.4-5-9.4-1 0-2.6.7-3.4 1.6zM64.5 65c-2.4 2.7-1.4 6 3.5 10.4 4.3 3.9 7 4.5 9.4 2 2.6-2.6 1.8-5.4-2.8-10-4.8-4.8-7.4-5.4-10.1-2.4zM125.4 67.4c-4.6 4.6-5.4 7.4-2.8 10 2.4 2.5 5.1 1.9 9.4-2 4.9-4.4 5.9-7.7 3.5-10.4-2.7-3-5.3-2.4-10.1 2.4zM89.5 76.9C80.3 81 75 89.5 75 100c0 14.7 10.2 24.9 24.8 25 7.6 0 12.4-1.9 17.6-6.8 5.4-5.2 7.6-10.4 7.6-18.2 0-10.5-5.3-19-14.5-23.1-5.4-2.5-15.6-2.5-21 0zM107.8 87c13 7.9 7.4 28-7.8 28-8.5 0-15-6.5-15-15s6.5-15 15-15c2.7 0 5.8.8 7.8 2zM51.6 96.6c-.9.8-1.6 2.4-1.6 3.4 0 3.5 2.8 5 9.4 5 6.8 0 8.6-1 8.6-5 0-1.4-.5-3.1-1.2-3.8-1.8-1.8-13.3-1.5-15.2.4zM133.2 96.2c-.7.7-1.2 2.4-1.2 3.8 0 4 1.8 5 8.6 5 6.6 0 9.4-1.5 9.4-5s-2.8-5-9.4-5c-3.5 0-6.7.5-7.4 1.2zM68 124.6c-4.9 4.4-5.9 7.7-3.5 10.4 2.7 3 5.3 2.4 10.1-2.4 4.6-4.6 5.4-7.4 2.8-10-2.4-2.5-5.1-1.9-9.4 2zM122.6 122.6c-2.5 2.4-1.9 5.1 2 9.4 4.4 4.9 7.7 5.9 10.4 3.5 3-2.7 2.4-5.3-2.4-10.1-4.6-4.6-7.4-5.4-10-2.8zM96.2 133.2c-.7.7-1.2 3.9-1.2 7.4 0 6.6 1.5 9.4 5 9.4s5-2.8 5-9.4c0-3.5-.5-6.7-1.2-7.4-1.5-1.5-6.1-1.5-7.6 0z"
                />
              </svg>
            )}
          </IconButton>
        </div>
        <div className="absolute left-[34%] mb-2 mt-2">
          <SearchIcon className="text-white" />
        </div>
        <div className="flex justify-center w-full">
          <ThemeProvider theme={theme}>
            <Input
              value={searchTerm}
              onChange={(e) => setSearchTerm(e.target.value)}
              onKeyDown={handleKeyDown}
              color="neutral"
              className="pl-8 pr-8 mt-2 text-white"
            />
          </ThemeProvider>
        </div>
        <div className="flex justify-end">
          <Button className="w-full mr-5 text-white">
            LOGIN
            <svg
              className="ml-2 text-white fill-white"
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              version="1.0"
              viewBox="0 0 600 600"
            >
              <path d="M279.5 20.6c-54.6 4.6-104.9 23.6-148.4 56.2-15.3 11.4-42.9 39-54.3 54.3-29.6 39.5-47 81.9-54.4 132.4-2.5 16.8-2.5 56.2 0 73 7.4 50.5 24.8 92.9 54.4 132.4 11.4 15.3 39 42.9 54.3 54.3 39.5 29.6 81.9 47 132.4 54.4 16.8 2.5 56.2 2.5 73 0 50.7-7.4 92.1-24.4 132.5-54.5 15.2-11.3 42.8-38.9 54.1-54.1 30.1-40.4 47.1-81.8 54.5-132.5 1.3-8.9 1.8-18.3 1.8-36.5s-.5-27.6-1.8-36.5c-7.4-50.7-24.4-92.1-54.5-132.5-11.2-15.1-38.8-42.8-54.2-54.2-38.9-29.1-80.6-46.5-129.4-53.9-12.7-1.9-48-3.3-60-2.3zM325 133.3c29.9 7.7 55.2 29.9 67.3 58.7 5.4 13.1 7.2 22.3 7.2 38s-1.8 24.9-7.2 38c-12.5 29.8-39.4 52.4-70.8 59.7-11 2.5-32 2.5-43 0-36.3-8.4-65.6-36.7-75.3-72.7-2.2-8.3-2.5-11.5-2.5-25s.3-16.7 2.5-25c10.3-38.2 40.6-66 80.2-73.6 10.7-2 29.8-1.2 41.6 1.9zM319.1 361c64.5 6.6 121.2 45.6 150.7 104l6.3 12.5-5.8 5.4c-37.5 35.3-85.6 57.7-139.8 65.3-11.6 1.6-49.4 1.6-61 0-54.2-7.6-102.3-30-139.8-65.3l-5.8-5.4 6.3-12.5c26.1-51.6 72.5-87.7 129-100.4 19.5-4.4 39.9-5.6 59.9-3.6z" />
            </svg>
          </Button>
        </div>
      </div>
    </header>
  );
}

//to change the border color of input
const theme = createTheme({
  status: {
    danger: "#e53e3e",
  },
  palette: {
    primary: {
      main: "#0971f1",
      darker: "#053e85",
    },
    neutral: {
      main: "#ffff",
      contrastText: "#fff",
    },
  },
});
export default Header;
